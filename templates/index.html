<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#ffffff" />
  <title>Deletor Automático · Content Server</title>
  <style>
    :root{
      --bg: #f5f5f7;
      --card: rgba(255,255,255,0.75);
      --card-border: rgba(0,0,0,0.06);
      --txt: #1d1d1f;
      --muted: #6e6e73;
      --brand: #0071e3;
      --brand-strong:#005bb5;
      --ok:#0a7d27;
      --error:#b00020;
      --shadow: 0 20px 60px rgba(0,0,0,.10), 0 2px 6px rgba(0,0,0,.04);
      --radius-xl: 24px;
      --radius-lg: 18px;
      --radius-md: 12px;
      --glass-blur: 14px;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg: #0b0b0c;
        --card: rgba(22,22,24,0.7);
        --card-border: rgba(255,255,255,0.08);
        --txt: #f5f5f7;
        --muted: #9b9ba1;
        --shadow: 0 20px 60px rgba(0,0,0,.5), 0 2px 6px rgba(0,0,0,.3);
      }
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font: 16px/1.5 -apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Roboto,Helvetica,Arial,sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1200px 600px at 20% -10%, #dde6ff 0%, transparent 60%),
        radial-gradient(1000px 600px at 120% 10%, #ffdfe8 0%, transparent 50%),
        var(--bg);
    }

    /* Nav minimalista */
    .nav{
      position:fixed; inset: 16px 16px auto 16px;
      height:56px; display:flex; align-items:center; gap:12px;
      padding:10px 14px; border-radius:14px;
      background: var(--card); backdrop-filter: blur(var(--glass-blur));
      border: 1px solid var(--card-border); box-shadow: var(--shadow);
    }
    .brand-dot{
      width:12px; height:12px; border-radius:50%;
      background: linear-gradient(135deg, var(--brand), #6aa9ff);
      box-shadow: 0 0 0 4px rgba(0,113,227,.08);
    }
    .brand{font-weight:600; letter-spacing:.2px}

    /* Layout */
    .wrap{
      min-height:100%;
      display:flex; align-items:center; justify-content:center;
      padding:120px 20px 60px;
    }
    .card{
      width: min(960px, 94vw);
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow);
      backdrop-filter: blur(var(--glass-blur));
      overflow:hidden;
      animation: fadeIn .6s ease both;
    }
    .hero{
      padding:48px 54px 16px;
      display:grid; grid-template-columns: 1.2fr 1fr; gap:32px;
    }
    @media (max-width: 900px){
      .hero{grid-template-columns: 1fr; padding:28px 22px 6px}
    }

    .title{
      font-size: clamp(28px, 4.6vw, 44px);
      line-height:1.15; font-weight:700; letter-spacing:-.3px;
      margin: 6px 0 14px;
      background: linear-gradient(90deg, #111 0%, #444 35%, #111 100%);
      color: transparent; -webkit-background-clip:text; background-clip:text;
    }
    @media (prefers-color-scheme: dark){
      .title{background: linear-gradient(90deg, #fff 0%, #d7d7d7 35%, #fff 100%)}
    }
    .subtitle{color:var(--muted); font-size:1.05rem; margin-bottom:18px}

    .badges{display:flex; flex-wrap:wrap; gap:10px; margin:8px 0 0}
    .badge{
      display:inline-flex; align-items:center; gap:8px; padding:8px 12px;
      background:#f0f0f3; border:1px solid var(--card-border); color:#333;
      border-radius:999px; font-size:.85rem;
    }
    @media (prefers-color-scheme: dark){
      .badge{background:#151517; color:#e7e7ea}
    }
    .badge svg{opacity:.9}

    /* Upload */
    .panel{
      background: rgba(255,255,255,.6);
      border: 1px solid var(--card-border);
      border-radius: var(--radius-lg);
      padding: 22px;
    }
    @media (prefers-color-scheme: dark){
      .panel{background: rgba(30,30,34,.55)}
    }

    .drop{
      position:relative;
      border: 2px dashed #c9ccd1;
      border-radius: var(--radius-lg);
      padding: 28px;
      background: linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,.55));
      transition: border-color .25s ease, transform .15s ease;
      text-align:center;
      cursor: pointer;
    }
    @media (prefers-color-scheme: dark){
      .drop{background: linear-gradient(180deg, rgba(28,28,30,.7), rgba(28,28,30,.5)); border-color:#3a3d43}
    }
    .drop:hover{transform: translateY(-1px)}
    .drop.dragover{border-color: var(--brand); box-shadow: 0 0 0 4px rgba(0,113,227,.12)}
    .drop input[type=file]{display:none}
    .drop h3{margin:8px 0 4px; font-size:1.05rem}
    .drop p{margin:0; color:var(--muted); font-size:.92rem}

    .file-chip{
      display:none; margin-top:14px; justify-content:center; gap:10px;
      align-items:center; background:#eef5ff; color:#0a2b52;
      border:1px solid #cfe4ff; border-radius: 12px; padding:10px 12px;
      font-size:.92rem;
    }
    .file-chip.show{display:flex}
    @media (prefers-color-scheme: dark){
      .file-chip{background:#081e37; color:#dbe8ff; border-color:#163456}
    }

    .actions{display:flex; gap:12px; margin-top:18px; justify-content:center}
    .btn{
      appearance:none; border:none; cursor:pointer;
      background: var(--brand); color:#fff; font-weight:600;
      padding: 12px 22px; border-radius: 999px; font-size:1rem;
      transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
      box-shadow: 0 10px 24px rgba(0,113,227,.25);
    }
    .btn:hover{background: var(--brand-strong)}
    .btn:active{transform: translateY(1px)}
    .btn[disabled]{opacity:.5; cursor:not-allowed; box-shadow:none}

    .btn-secondary{
      background: transparent; color: var(--brand); border:1px solid #b8d7ff;
      box-shadow:none;
    }
    .btn-secondary:hover{background: rgba(0,113,227,.08)}

    .spinner{
      width:16px; height:16px; border-radius:50%;
      border:2px solid rgba(255,255,255,.5);
      border-top-color:#fff; display:inline-block; vertical-align:-3px;
      animation: spin .8s linear infinite; margin-right:8px;
    }

    /* Bento features */
    .bento{
      display:grid; grid-template-columns: repeat(3, 1fr); gap:16px;
      padding: 0 54px 38px;
    }
    @media (max-width: 900px){ .bento{grid-template-columns:1fr; padding: 0 22px 24px}}
    .tile{
      padding:18px; border:1px solid var(--card-border);
      border-radius: var(--radius-md); background: rgba(255,255,255,.55);
    }
    @media (prefers-color-scheme: dark){ .tile{background: rgba(30,30,34,.45)}}
    .tile h4{margin:2px 0 6px; font-size:1rem}
    .tile p{margin:0; color:var(--muted); font-size:.92rem}

    .foot{
      text-align:center; color:var(--muted); font-size:.85rem; padding: 0 22px 28px;
    }

    @keyframes fadeIn{from{opacity:0; transform: translateY(10px)} to{opacity:1; transform:none}}
    @keyframes spin{to{transform: rotate(360deg)}}
  </style>
</head>
<body>
  <nav class="nav" aria-label="Barra de navegação">
    <span class="brand-dot" aria-hidden="true"></span>
    <span class="brand">Deletor Automático</span>
  </nav>

  <main class="wrap">
    <section class="card" aria-labelledby="title">
      <div class="hero">
        <div>
          <div class="badge" aria-hidden="true">
            <!-- shield icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M12 3l7 3v5c0 5-3.3 9.4-7 10-3.7-.6-7-5-7-10V6l7-3z" stroke="currentColor" stroke-width="1.5"/></svg>
            Segurança em primeiro lugar
          </div>
          <h1 id="title" class="title">Exclua usuários com precisão e elegância</h1>
          <p class="subtitle">Faça upload do CSV, valide e prossiga. Design minimalista, foco na experiência — como deve ser.</p>
          <div class="badges">
            <span class="badge">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M5 12l4 4L19 6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Validação inteligente
            </span>
            <span class="badge">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M12 8v8m4-4H8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
              Logs claros
            </span>
            <span class="badge">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M3 12h18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
              Simplicidade total
            </span>
          </div>
        </div>

        <form class="panel" id="uploadForm" action="/upload" method="POST" enctype="multipart/form-data" aria-describedby="helper">
          <label class="drop" id="dropzone" for="file">
            <!-- file icon -->
            <svg width="44" height="44" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M14 3H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z" stroke="currentColor" stroke-width="1.3"/>
              <path d="M14 3v6h6" stroke="currentColor" stroke-width="1.3"/>
            </svg>
            <h3>Arraste e solte seu CSV</h3>
            <p>ou clique para selecionar</p>
            <input id="file" name="file" type="file" accept=".csv" />
          </label>

          <div class="file-chip" id="fileChip" role="status" aria-live="polite">
            <!-- check icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M5 12l4 4L19 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <span id="fileName">Nenhum arquivo selecionado</span>
          </div>

          <div class="actions">
            <button class="btn" id="submitBtn" type="submit" disabled>
              <span class="spinner" id="spinner" style="display:none"></span>
              Enviar CSV
            </button>
            <a class="btn btn-secondary" href="/static/template.csv" download>Baixar template</a>
          </div>

          <p id="helper" class="foot" style="margin-top:16px">
            Aceita apenas <strong>.csv</strong>. Seu arquivo será validado antes de qualquer exclusão.
          </p>
        </form>
      </div>

      <div class="bento" aria-hidden="true">
        <div class="tile">
          <h4>Privacidade</h4>
          <p>Sem exposição de credenciais na UI. Processamento seguro no servidor.</p>
        </div>
        <div class="tile">
          <h4>Performance</h4>
          <p>Operações em lote com feedback instantâneo e logs claros.</p>
        </div>
        <div class="tile">
          <h4>Confiabilidade</h4>
          <p>Validações de formato, preview e proteção contra ações acidentais.</p>
        </div>
      </div>

      <p class="foot">© <span id="year"></span> Deletor Automático — Interface pensada para ser invisível: você, no controle.</p>
    </section>
  </main>

  <script>
    const drop = document.getElementById('dropzone');
    const fileInput = document.getElementById('file');
    const fileChip = document.getElementById('fileChip');
    const fileName = document.getElementById('fileName');
    const submitBtn = document.getElementById('submitBtn');
    const spinner = document.getElementById('spinner');
    document.getElementById('year').textContent = new Date().getFullYear();

    // Atualiza UI quando um arquivo é escolhido
    function handleFile(file){
      if(!file) return;
      const isCSV = /\.csv$/i.test(file.name);
      if(!isCSV){
        fileChip.classList.add('show');
        fileName.textContent = 'Formato inválido. Selecione um .csv';
        fileChip.style.borderColor = '#ffb3b3';
        fileName.style.color = '#b00020';
        submitBtn.disabled = true;
        return;
      }
      fileChip.classList.add('show');
      fileName.textContent = file.name;
      fileChip.style.borderColor = '';
      fileName.style.color = '';
      submitBtn.disabled = false;
    }

    fileInput.addEventListener('change', (e)=>{
      handleFile(e.target.files[0]);
    });

    // Drag & drop
    ['dragenter','dragover'].forEach(evt=>{
      drop.addEventListener(evt, (e)=>{
        e.preventDefault(); e.stopPropagation();
        drop.classList.add('dragover');
      });
    });
    ['dragleave','drop'].forEach(evt=>{
      drop.addEventListener(evt, (e)=>{
        e.preventDefault(); e.stopPropagation();
        drop.classList.remove('dragover');
      });
    });
    drop.addEventListener('drop', (e)=>{
      const files = e.dataTransfer.files;
      if(files && files[0]){
        fileInput.files = files; // permite enviar no form
        handleFile(files[0]);
      }
    });

    // Loading state no submit (só UI; backend cuidará do upload)
    document.getElementById('uploadForm').addEventListener('submit', ()=>{
      spinner.style.display = 'inline-block';
      submitBtn.setAttribute('disabled','disabled');
    });
  </script>
</body>
</html>
    